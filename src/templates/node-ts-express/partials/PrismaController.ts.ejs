// Auto-generated by create-backlist v5.0 (Prisma Version)
import { Request, Response } from 'express';
import { prisma } from '../server'; // Import the Prisma client instance

// @desc    Create a new <%= modelName %>
export const create<%= modelName %> = async (req: Request, res: Response) => {
  try {
    const newDoc = await prisma.<%= modelName.toLowerCase() %>.create({
      data: req.body,
    });
    res.status(201).json(newDoc);
  } catch (error) {
    res.status(500).json({ message: 'Error creating document', error });
  }
};

// @desc    Get all <%= modelName %>s
export const getAll<%= modelName %>s = async (req: Request, res: Response) => {
  try {
    const docs = await prisma.<%= modelName.toLowerCase() %>.findMany();
    res.status(200).json(docs);
  } catch (error) {
    res.status(500).json({ message: 'Error fetching documents', error });
  }
};

// @desc    Get a single <%= modelName %> by ID
export const get<%= modelName %>ById = async (req: Request, res: Response) => {
  try {
    const { id } = req.params;
    const doc = await prisma.<%= modelName.toLowerCase() %>.findUnique({
      where: { id },
    });
    if (!doc) return res.status(404).json({ message: 'Document not found' });
    res.status(200).json(doc);
  } catch (error) {
    res.status(500).json({ message: 'Error fetching document', error });
  }
};

// @desc    Update a <%= modelName %> by ID
export const update<%= modelName %>ById = async (req: Request, res: Response) => {
  try {
    const { id } = req.params;
    const doc = await prisma.<%= modelName.toLowerCase() %>.update({
      where: { id },
      data: req.body,
    });
    res.status(200).json(doc);
  } catch (error) {
    res.status(500).json({ message: 'Error updating document', error });
  }
};

// @desc    Delete a <%= modelName %> by ID
export const delete<%= modelName %>ById = async (req: Request, res: Response) => {
  try {
    const { id } = req.params;
    await prisma.<%= modelName.toLowerCase() %>.delete({
      where: { id },
    });
    res.status(200).json({ message: 'Document deleted successfully' });
  } catch (error) {
    res.status(500).json({ message: 'Error deleting document', error });
  }
};